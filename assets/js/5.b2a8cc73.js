(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{172:function(n,a,t){"use strict";t.r(a);var e=t(0),s=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var n=this,a=n.$createElement,t=n._self._c||a;return t("div",{staticClass:"content"},[t("h1",{attrs:{id:"子组件更新父组件传参数据，dom不更新解决小技巧（数组类型数据）"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#子组件更新父组件传参数据，dom不更新解决小技巧（数组类型数据）","aria-hidden":"true"}},[n._v("#")]),n._v(" 子组件更新父组件传参数据，DOM不更新解决小技巧（数组类型数据）")]),n._v(" "),t("div",{staticClass:"warning custom-block"},[t("p",{staticClass:"custom-block-title"},[n._v("WARNING")]),n._v(" "),t("p",[n._v("该方法适用于vue2")])]),n._v(" "),t("h2",{attrs:{id:"vue父组件向子组件传参，子组件更改该数据，dom不更新，解决小技巧-一般传参为数组会有dom不更新情况"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vue父组件向子组件传参，子组件更改该数据，dom不更新，解决小技巧-一般传参为数组会有dom不更新情况","aria-hidden":"true"}},[n._v("#")]),n._v(" vue父组件向子组件传参，子组件更改该数据，DOM不更新，解决小技巧(一般传参为数组会有DOM不更新情况)")]),n._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v("// fatherData数据如下\n\nfatherData: [\n  {\n    icon: {\n      type: `${iconType}-home`,\n    },\n    name: '主页',\n    iconImg: {\n      // default: this.imgUrl + 'ichengdu/home.png',\n      // selected: this.imgUrl + 'ichengdu/home-fill.png'\n    }\n  },\n  {\n    icon: {\n      type: `${iconType}-briefcase`,\n    },\n    name: '商城',\n    iconImg: {\n      // default: this.imgUrl + 'ichengdu/shop.png',\n      // selected: this.imgUrl + 'ichengdu/shop-fill.png'\n    }\n  },\n  {\n    icon: {\n      type: `${iconType}-contact`,\n    },\n    name: '我的',\n    iconImg: {\n      default: '',\n      selected: ''\n    }\n  }\n]\n\n// 子组件接受的参数\n\nprop: [\n  'fatherData'\n]\n")])])]),t("p",[n._v("-子组件的data内新建一个变量data，如下")]),n._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v("// 子组件data\ndata () {\n  return {\n    data: []\n  }\n}\n")])])]),t("p",[n._v("-在子组件created该生命周期阶段，用data接受父组件传来的并修改的数据")]),n._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v("// 处理父组件传来的参数\n\nthis.fatherData.forEach(\n  (item, i) => {\n    item.icon.size = this.iconSize\n    item.flag = false\n    if (i === 0) {\n      item.flag = true\n    }\n    this.data.push(item)\n  }\n)\n")])])]),t("p",[n._v("-需要改变flag值并让DOM更新")]),n._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v("// change函数接受索引并改变该索引对应的flag值，并更新DOM\n// 先清空data内部数据\n// 再赋值给data，即可触发DOM更新\n\nchange (i) {\n  this.data = []\n  this.tabBarData.forEach(\n    (_item, _i) => {\n      _item.flag = false\n      if (i === _i) {\n        _item.flag = true\n      }\n      this.data.push(_item)\n    }\n  )\n}\n")])])])])}],!1,null,null,null);s.options.__file="skill.md";a.default=s.exports}}]);